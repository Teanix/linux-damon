TODOs
=====

- Online parameter updates
  (sysfs, DARC: echo commit > status)
  Merged in mm-stable

- Fixed monitoring target range for vaddr monitoring
  New damon_ops (echo fvaddr > ops) or sysfs file (echo N > auto_regions_update)
  Merged in mm-stable

--- aims to do above before the v5.18 release ---

- DAMON-based Proactive LRU Sorting (DAMON_PLRUS)
  (Make hot LRU pages placed near the head of their LRU lists)
  - RFC sent (https://lore.kernel.org/damon/20220513150000.25797-1-sj@kernel.org/)
  - More tests, tunes, and development of dedicated kernel module is needed

- Write-only monitoring
  There is a patch done the work already: https://lore.kernel.org/lkml/20220203131237.298090-1-pedrodemargomes@gmail.com/
  Need to wait until soft-dirty bugs are fixed, though.

- Monitoring results in sysfs
  (Apply nr_accesses and age of regions to sysfs region dirs)
  (echo checkout > status)
  (or, having DAMOS target regions dir?  Could be used for querying)

--- aims to do above before the v5.19 release ---

- Unify DAMON_RECLAIM and DAMON_PLRUS

- Multiple contexts per kdamond
  (to avoid interference between different contexts)

- Monitoring time quota
  Let users set time quota and automatically adjust
  {min,max}_nr_regions based on the time usage (per-context).

- Automatic paddr regions detection
  (handle hot(un)plugged memory regions)

- DAMOS denylist (or, more detailed target specification)
  Don't bother knowlegeable user space processes
  (adding target regions, type---anon,file-backed,numaxx,zonexx---, ...)

- DAMON-based Compaction Target Scanning

- Fixed granularity idleness monitoring
  - Must be useful for further DAMON overhead/accuracy evaluation

- Autopilot for DAMOS
  - Set watermarks based on min_freebytes
  - Adjust coldness threshold with PSI

- DAMON-based THP hinting

- Improve regions-based monitoring quality

- Support cgroups


[1] https://lore.kernel.org/all/a2fb10bd-b44a-350e-f693-82ecfa6f54a8@huawei.com/
